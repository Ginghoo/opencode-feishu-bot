# OpenCode Bot 配置文件
# 将此文件复制到 ~/.config/opencode-bot/config.toml

[feishu]
app_id = "cli_xxxxxxxxxxxx"
app_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

[feishu.docs]
# 默认文档存储文件夹 token（云空间文件夹）
# default_folder_token = "fldcnxxxxxxxxxxxxxxx"
# 知识库 space_id（可选，用于知识库模式）
# wiki_space_id = "xxxxxxx"

[admin]
# 管理员用户 open_id 列表
user_ids = ["ou_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]
# 是否允许所有用户（设为 false 启用白名单模式）
allow_all_users = true

[database]
# 数据库路径（默认：~/.config/opencode-bot/bot.db）
# path = "~/.config/opencode-bot/bot.db"

[logging]
# 日志级别：debug | info | warn | error
level = "info"

# 预配置项目列表
[[projects]]
path = "/home/user/project-a"
name = "项目A"

[[projects]]
path = "/home/user/project-b"
name = "项目B"

[models]
# 默认模型
default = "anthropic/claude-sonnet-4-20250514"

# 可用模型列表（留空显示全部）
[[models.available]]
id = "anthropic/claude-sonnet-4-20250514"
name = "Claude Sonnet"

[[models.available]]
id = "openai/gpt-4o"
name = "GPT-4o"

# ============================================
# 新架构配置（可选）
# ============================================

# Agent 配置
# [[agents]]
# id = "opencode"
# type = "opencode"
# name = "OpenCode Agent"
# enabled = true
# [agents.options]
# key = "value"

# Bindings 路由配置
[bindings]
default_agent = "opencode"

# 路由规则示例
# [[bindings.rules]]
# id = "vip-users"
# name = "VIP 用户路由"
# agent_id = "premium-agent"
# priority = 10
# enabled = true
# [bindings.rules.match]
# user_id = ["ou_xxx", "ou_yyy"]

# MCP 配置
[mcp]
# 内置 MCP Server 启用状态
[mcp.servers]
# feishu = { enabled = true }

# 外部 MCP Client 配置
# [[mcp.clients]]
# name = "external-mcp"
# command = "npx"
# args = ["-y", "@example/mcp-server"]
# [mcp.clients.env]
# API_KEY = "xxx"

# Hook 配置
[hooks]
enabled = true
# [[hooks.handlers]]
# event = "message.received"
# path = "./hooks/log-message.ts"
# priority = 0

# Plugin 配置
[plugins]
enabled = true
# workspace_path = "./plugins"
# managed_path = "~/.config/opencode-bot/plugins"
# bundled = ["example-plugin"]
